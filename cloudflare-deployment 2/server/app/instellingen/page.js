(()=>{var e={};e.id=914,e.ids=[914],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},3842:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d}),r(8244),r(9623),r(5866);var a=r(3191),t=r(8716),i=r(7922),l=r.n(i),n=r(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);r.d(s,c);let d=["",{children:["instellingen",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8244)),"/Users/dietmar/Desktop/pp ops -- intern audit/app/instellingen/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9623)),"/Users/dietmar/Desktop/pp ops -- intern audit/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/dietmar/Desktop/pp ops -- intern audit/app/instellingen/page.tsx"],x="/instellingen/page",m={require:r,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/instellingen/page",pathname:"/instellingen",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2972:(e,s,r)=>{Promise.resolve().then(r.bind(r,5484))},5484:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>q});var a=r(326),t=r(7577),i=r(5047),l=r(2711),n=r(2896),c=r(2894),d=r(3116),o=r(1021),x=r(3679),m=r(4231),u=r(3771),h=r(1625),p=r(9635),j=r(6557);let g=(0,j.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),y=(0,j.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);var f=r(1215);let v=(0,j.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),b=(0,j.Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var k=r(8091);let N=(0,j.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var w=r(1540),Z=r(8378),P=r(1810);let M=()=>{let{user:e,signOut:s,updateUser:r}=(0,l.a)(),[i,n]=(0,t.useState)({naam:"",user_id:"",telefoon:"",rol:""}),[j,M]=(0,t.useState)(!1),[q,_]=(0,t.useState)(""),[z,A]=(0,t.useState)(""),[C,E]=(0,t.useState)([]),[I,D]=(0,t.useState)(!1),[S,G]=(0,t.useState)({naam:"",rol:"user",telefoon:""});(0,t.useEffect)(()=>{e&&n({naam:e.naam,user_id:e.user_id,telefoon:e.telefoon,rol:e.rol})},[e]),(0,t.useEffect)(()=>{e?.rol==="admin"&&O()},[e]);let O=async()=>{try{let e=await h.l.getAllUsers();E(e)}catch(e){console.error("Error loading users:",e)}},U=async()=>{try{M(!0),_(""),A(""),console.log("Creating user with data:",S);let e=await h.l.createUser(S);console.log("User created successfully:",e),await O(),G({naam:"",rol:"user",telefoon:""}),D(!1),A("Gebruiker succesvol aangemaakt")}catch(e){console.error("Error creating user:",e),_(`Er is een fout opgetreden: ${e instanceof Error?e.message:"Onbekende fout"}`)}finally{M(!1)}},V=async e=>{let s=C.find(s=>s.id===e);if(s?.rol==="admin"){_("Admin account kan niet worden verwijderd");return}if(confirm("Weet u zeker dat u deze gebruiker wilt verwijderen?"))try{await h.l.deleteUser(e)?(E(s=>s.filter(s=>s.id!==e)),A("Gebruiker succesvol verwijderd")):_("Fout bij het verwijderen van gebruiker")}catch(e){_("Er is een fout opgetreden")}},R=async()=>{try{if(M(!0),_(""),A(""),!e){_("Geen gebruiker ingelogd");return}let s=await r({naam:i.naam,telefoon:i.telefoon});s.success?(A("Uw profiel is succesvol bijgewerkt"),setTimeout(()=>A(""),3e3)):_(s.error||"Fout bij het bijwerken van het profiel")}catch(e){_("Fout bij het bijwerken van het profiel"),console.error("Error updating profile:",e)}finally{M(!1)}},W=async()=>{try{alert("Data export functionaliteit wordt ge\xefmplementeerd")}catch(e){console.error("Export error:",e),alert("Er is een fout opgetreden bij het exporteren")}},T=async()=>{if(confirm("Weet u zeker dat u uw account wilt verwijderen? Deze actie kan niet ongedaan worden gemaakt."))try{alert("Account verwijdering functionaliteit wordt ge\xefmplementeerd")}catch(e){console.error("Delete error:",e),alert("Er is een fout opgetreden bij het verwijderen")}},H=e=>{if(!e)return"Onbekend";switch(e){case"admin":return"Administrator";case"manager":return"Manager";case"user":return"Gebruiker";default:return e.replace("_"," ")}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(c.x,{user:e}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 pb-24",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Instellingen"}),a.jsx("p",{className:"text-gray-600",children:"Beheer uw account instellingen en voorkeuren"})]}),z&&a.jsx("div",{className:"mb-6",children:a.jsx(u.b,{variant:"success",children:z})}),q&&a.jsx("div",{className:"mb-6",children:a.jsx(u.b,{variant:"error",children:q})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)(o.Zb,{children:[a.jsx(o.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(p.Z,{className:"h-5 w-5 text-primary-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Profiel Instellingen"})]})}),a.jsx(o.eW,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(m.I,{label:"Naam",value:i.naam,onChange:e=>n(s=>({...s,naam:e.target.value})),icon:p.Z}),a.jsx(m.I,{label:"User ID",value:i.user_id,disabled:!0,icon:p.Z})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(m.I,{label:"Telefoon",value:i.telefoon,onChange:e=>n(s=>({...s,telefoon:e.target.value})),icon:g}),a.jsx(m.I,{label:"Rol",value:H(i.rol),disabled:!0,icon:y})]}),a.jsx("div",{className:"flex justify-end",children:(0,a.jsxs)(x.z,{onClick:R,disabled:j,children:[a.jsx(f.Z,{className:"h-4 w-4 mr-2"}),j?"Opslaan...":"Opslaan"]})})]})})]}),e?.rol==="admin"&&(0,a.jsxs)(o.Zb,{children:[a.jsx(o.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(v,{className:"h-5 w-5 text-primary-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Gebruikersbeheer"})]}),(0,a.jsxs)(x.z,{onClick:()=>D(!0),className:"flex items-center space-x-2",children:[a.jsx(b,{className:"h-4 w-4"}),a.jsx("span",{children:"Nieuwe Gebruiker"})]})]})}),a.jsx(o.eW,{children:a.jsx("div",{className:"space-y-4",children:C.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:a.jsx(p.Z,{className:"h-5 w-5 text-primary-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:e.naam}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["ID: ",e.user_id||"Geen ID"]}),a.jsx("p",{className:"text-sm text-gray-600",children:H(e.rol)})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${e.actief?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.actief?"Actief":"Inactief"}),a.jsx(x.z,{variant:"danger",size:"sm",onClick:()=>V(e.id),disabled:"admin"===e.rol,title:"admin"===e.rol?"Admin account kan niet worden verwijderd":"Verwijder gebruiker",children:a.jsx(k.Z,{className:"h-4 w-4"})})]})]},e.id))})})]}),I&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Nieuwe Gebruiker"}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx(m.I,{label:"Naam",value:S.naam,onChange:e=>G(s=>({...s,naam:e.target.value})),placeholder:"Volledige naam"}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rol"}),(0,a.jsxs)("select",{value:S.rol,onChange:e=>G(s=>({...s,rol:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[a.jsx("option",{value:"user",children:"Gebruiker"}),a.jsx("option",{value:"manager",children:"Manager"})]})]}),a.jsx(m.I,{label:"Telefoon",value:S.telefoon,onChange:e=>G(s=>({...s,telefoon:e.target.value})),placeholder:"+32 123 456 789"})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(x.z,{variant:"secondary",onClick:()=>D(!1),children:"Annuleren"}),a.jsx(x.z,{onClick:U,disabled:j||!S.naam,children:j?"Aanmaken...":"Aanmaken"})]})]})}),(0,a.jsxs)(o.Zb,{children:[a.jsx(o.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(N,{className:"h-5 w-5 text-primary-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Notificaties"})]})}),a.jsx(o.eW,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"E-mail Notificaties"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Ontvang e-mails over nieuwe audits en rapporten"})]}),a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Push Notificaties"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Ontvang push notificaties op uw apparaat"})]}),a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]})]})})]}),(0,a.jsxs)(o.Zb,{children:[a.jsx(o.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(y,{className:"h-5 w-5 text-primary-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Privacy & Data"})]})}),a.jsx(o.eW,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Data Export"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Download een kopie van uw persoonlijke gegevens"})]}),(0,a.jsxs)(x.z,{variant:"secondary",onClick:W,children:[a.jsx(w.Z,{className:"h-4 w-4 mr-2"}),"Export"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Account Verwijderen"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Verwijder permanent uw account en alle bijbehorende gegevens"})]}),(0,a.jsxs)(x.z,{variant:"danger",onClick:T,children:[a.jsx(k.Z,{className:"h-4 w-4 mr-2"}),"Verwijderen"]})]})]})})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(o.Zb,{children:[a.jsx(o.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(Z.Z,{className:"h-5 w-5 text-primary-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Account Informatie"})]})}),a.jsx(o.eW,{children:a.jsx("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(p.Z,{className:"h-8 w-8 text-primary-600"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:i.naam}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["ID: ",i.user_id]}),a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800 mt-2",children:H(i.rol)})]})})})]}),(0,a.jsxs)(o.Zb,{children:[a.jsx(o.Ol,{children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Snelle Acties"})}),a.jsx(o.eW,{children:a.jsx("div",{className:"space-y-3",children:(0,a.jsxs)(x.z,{variant:"danger",onClick:s,className:"w-full",children:[a.jsx(P.Z,{className:"h-4 w-4 mr-2"}),"Uitloggen"]})})})]})]})]})]}),a.jsx(d.$,{})]})};function q(){let{user:e,loading:s}=(0,l.a)();return((0,i.useRouter)(),s)?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(n.T,{})}):e?a.jsx(M,{}):null}},4231:(e,s,r)=>{"use strict";r.d(s,{I:()=>i});var a=r(326),t=r(7577);let i=r.n(t)().forwardRef(({className:e,type:s,error:r,label:t,...i},l)=>(0,a.jsxs)("div",{className:"w-full",children:[t&&a.jsx("label",{className:"form-label",children:t}),a.jsx("input",{type:s,className:`form-input ${r?"border-danger-300 focus:border-danger-500 focus:ring-danger-500":""} ${e||""}`,ref:l,...i}),r&&a.jsx("p",{className:"form-error",children:r})]}));i.displayName="Input"},7888:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});let a=(0,r(6557).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7202:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});let a=(0,r(6557).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},4659:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});let a=(0,r(6557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1540:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});let a=(0,r(6557).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},8019:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});let a=(0,r(6557).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},5290:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});let a=(0,r(6557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1215:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});let a=(0,r(6557).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},8091:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});let a=(0,r(6557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},5047:(e,s,r)=>{"use strict";var a=r(7389);r.o(a,"usePathname")&&r.d(s,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(s,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(s,{useSearchParams:function(){return a.useSearchParams}})},8244:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`/Users/dietmar/Desktop/pp ops -- intern audit/app/instellingen/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[994,897,941],()=>r(3842));module.exports=a})();