"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{1618:function(e,r,t){t.d(r,{AuthProvider:function(){return i},a:function(){return c}});var a=t(7437),n=t(2265),o=t(1181);let s=(0,n.createContext)(void 0),c=()=>{let e=(0,n.useContext)(s);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},i=e=>{let{children:r}=e,[t,c]=(0,n.useState)(null),[i,u]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=async()=>{try{if("undefined"==typeof localStorage){console.log("\uD83C\uDF10 Server-side rendering detected, skipping auth check"),u(!1);return}let e=localStorage.getItem("audit_user");if(console.log("\uD83D\uDD0D Checking existing session..."),console.log("\uD83D\uDCE6 Saved user from localStorage:",e),e)try{let r=JSON.parse(e);console.log("\uD83D\uDC64 Parsed user:",r),console.log("\uD83D\uDD04 Using saved user directly (skipping database lookup)"),c(r),console.log("✅ User set from localStorage")}catch(e){console.error("❌ Error parsing localStorage user:",e),localStorage.removeItem("audit_user")}else console.log("\uD83D\uDCED No saved user found in localStorage")}catch(e){console.error("❌ Error in checkExistingSession:",e)}finally{console.log("\uD83C\uDFC1 Setting loading to false"),u(!1)}},r=setTimeout(()=>{console.log("⏰ Auth check timeout, setting loading to false"),u(!1)},3e3);e().finally(()=>{clearTimeout(r)})},[]);let l=async e=>{try{if("undefined"==typeof localStorage)return{success:!1,error:"Server-side rendering not supported"};let r=await o.l.getUserByEmail(e);if(r){let e={id:r.id,user_id:r.email,naam:r.naam,rol:r.rol,telefoon:r.telefoon,actief:r.actief,created_at:r.created_at,updated_at:r.updated_at};if(!e.actief)return{success:!1,error:"Account is gedeactiveerd"};return c(e),localStorage.setItem("audit_user",JSON.stringify(e)),{success:!0}}let t={ADMIN:{id:"00000000-0000-0000-0000-000000000001",user_id:"ADMIN",naam:"Admin User",rol:"admin",telefoon:"+32 123 456 789",actief:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},MAN01:{id:"00000000-0000-0000-0000-000000000002",user_id:"MAN01",naam:"COO Manager",rol:"coo",telefoon:"+32 123 456 790",actief:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},MAN02:{id:"00000000-0000-0000-0000-000000000003",user_id:"MAN02",naam:"District Manager",rol:"district_manager",telefoon:"+32 123 456 791",actief:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},USER1:{id:"00000000-0000-0000-0000-000000000004",user_id:"USER1",naam:"User",rol:"user",telefoon:"+32 123 456 792",actief:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}[e];if(!t)return{success:!1,error:"User ID niet gevonden"};if(!t.actief)return{success:!1,error:"Account is gedeactiveerd"};return c(t),localStorage.setItem("audit_user",JSON.stringify(t)),{success:!0}}catch(e){return{success:!1,error:"Er is een fout opgetreden bij het inloggen"}}},d=async()=>{c(null),"undefined"!=typeof localStorage&&localStorage.removeItem("audit_user")},g=async e=>{try{if(console.log("\uD83D\uDD04 updateUser called with updates:",e),!t)return console.log("❌ No user logged in"),{success:!1,error:"Geen gebruiker ingelogd"};if("undefined"==typeof localStorage)return{success:!1,error:"Server-side rendering not supported"};console.log("\uD83D\uDC64 Current user:",t),console.log("\uD83D\uDD0D Updating user in database with ID:",t.id);let r=await o.l.updateUser(t.id,e);if(console.log("\uD83D\uDCBE Database update result:",r),!r)return console.log("❌ User not found in database"),{success:!1,error:"Gebruiker niet gevonden"};let a={id:r.id,user_id:r.email,naam:r.naam,rol:r.rol,telefoon:r.telefoon,actief:r.actief,created_at:r.created_at,updated_at:r.updated_at};return console.log("✅ Converted to authUser:",a),console.log("\uD83D\uDCBE Updating localStorage..."),c(a),localStorage.setItem("audit_user",JSON.stringify(a)),console.log("✅ User updated successfully in both state and localStorage"),{success:!0}}catch(e){return console.error("❌ Error updating user:",e),{success:!1,error:"Er is een fout opgetreden bij het bijwerken van het profiel"}}};return(0,a.jsx)(s.Provider,{value:{user:t,loading:i,signOut:d,signIn:l,updateUser:g},children:r})}},5225:function(e,r,t){t.d(r,{b:function(){return u}});var a=t(7437),n=t(2265),o=t(5302),s=t(3639),c=t(2252),i=t(3245);let u=n.forwardRef((e,r)=>{let{className:t,variant:n="info",children:u,...l}=e,d={success:o.Z,warning:s.Z,error:c.Z,info:i.Z}[n];return(0,a.jsxs)("div",{ref:r,className:"flex items-start p-4 border rounded-md ".concat({success:"bg-success-50 border-success-200 text-success-800",warning:"bg-warning-50 border-warning-200 text-warning-800",error:"bg-danger-50 border-danger-200 text-danger-800",info:"bg-blue-50 border-blue-200 text-blue-800"}[n]," ").concat(t||""),...l,children:[(0,a.jsx)(d,{className:"w-5 h-5 mr-3 mt-0.5 flex-shrink-0"}),(0,a.jsx)("div",{className:"flex-1",children:u})]})});u.displayName="Alert"},4226:function(e,r,t){t.d(r,{z:function(){return n}});var a=t(7437);let n=t(2265).forwardRef((e,r)=>{let{className:t,variant:n="primary",size:o="md",loading:s,children:c,disabled:i,...u}=e;return(0,a.jsxs)("button",{className:"".concat("inline-flex items-center justify-center font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-black text-white hover:bg-[#c59a6d] focus:ring-[#c59a6d]",secondary:"bg-black text-white border border-black hover:bg-[#c59a6d] focus:ring-[#c59a6d]",success:"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500",warning:"bg-warning-600 text-white hover:bg-warning-700 focus:ring-warning-500",danger:"bg-danger-600 text-white hover:bg-danger-700 focus:ring-danger-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500"}[n]," ").concat({sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[o]," ").concat(t||""),style:{borderRadius:0},ref:r,disabled:i||s,...u,children:[s&&(0,a.jsxs)("svg",{className:"w-4 h-4 mr-2 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c]})});n.displayName="Button"},9178:function(e,r,t){t.d(r,{Ol:function(){return s},Zb:function(){return o},eW:function(){return c}});var a=t(7437),n=t(2265);let o=n.forwardRef((e,r)=>{let{className:t,children:n,...o}=e;return(0,a.jsx)("div",{ref:r,className:"card ".concat(t||""),...o,children:n})});o.displayName="Card";let s=n.forwardRef((e,r)=>{let{className:t,children:n,...o}=e;return(0,a.jsx)("div",{ref:r,className:"card-header ".concat(t||""),...o,children:n})});s.displayName="CardHeader";let c=n.forwardRef((e,r)=>{let{className:t,children:n,...o}=e;return(0,a.jsx)("div",{ref:r,className:"card-body ".concat(t||""),...o,children:n})});c.displayName="CardBody",n.forwardRef((e,r)=>{let{className:t,children:n,...o}=e;return(0,a.jsx)("div",{ref:r,className:"card-footer ".concat(t||""),...o,children:n})}).displayName="CardFooter"},5012:function(e,r,t){t.d(r,{T:function(){return o}});var a=t(7437);t(2265);var n=t(5863);let o=e=>{let{size:r="md",text:t="Laden..."}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50",children:[(0,a.jsx)(n.Z,{className:"".concat({sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[r]," animate-spin text-primary-600")}),t&&(0,a.jsx)("p",{className:"mt-4 text-sm text-gray-600",children:t})]})}},9763:function(e,r,t){t.d(r,{Z:function(){return s}});var a=t(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=(e,r)=>{let t=(0,a.forwardRef)((t,s)=>{let{color:c="currentColor",size:i=24,strokeWidth:u=2,absoluteStrokeWidth:l,children:d,...g}=t;return(0,a.createElement)("svg",{ref:s,...n,width:i,height:i,stroke:c,strokeWidth:l?24*Number(u)/Number(i):u,className:"lucide lucide-".concat(o(e)),...g},[...r.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...(Array.isArray(d)?d:[d])||[]])});return t.displayName="".concat(e),t}},2252:function(e,r,t){t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3639:function(e,r,t){t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},5302:function(e,r,t){t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3245:function(e,r,t){t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},5863:function(e,r,t){t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2369:function(e,r,t){t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},9376:function(e,r,t){var a=t(5475);t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})}}]);